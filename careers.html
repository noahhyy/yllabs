<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Botara Careers</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #0a0a0a; color: #eaeaea; }
    header { background: #5b2d8b; padding: 40px 20px; text-align: center; }
    .container { max-width: 900px; margin: 40px auto; padding: 0 20px; }
    .job { background: #121212; border: 1px solid #222; border-radius: 8px; padding: 20px; margin-bottom: 20px; }
    button { padding: 10px 18px; border-radius: 6px; border: none; cursor: pointer; font-size: 1em; }
    .apply { background: #7a3fc4; color: white; }
    button:disabled { background: #333; cursor: not-allowed; }
    button[disabled]:hover::after { content: 'We are not hiring this role'; display: block; font-size: 0.9em; color: #ff5555; margin-top: 5px; }
    .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.7); justify-content: center; align-items: center; padding: 20px; }
    .modal-content { background: #121212; padding: 25px; max-width: 600px; width: 100%; border-radius: 8px; border: 1px solid #222; }
    label { display: block; margin-top: 15px; font-weight: bold; }
    input, textarea { width: 100%; margin-top: 6px; padding: 10px; background: #1b1b1b; border: 1px solid #333; border-radius: 6px; color: white; }
    textarea { min-height: 80px; }
    .actions { margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px; }
  </style>
</head>
<body>

<header>
  <h1>Careers at Botara</h1>
  <p>Help support and grow the Botara community</p>
</header>

<div class="container">
  <div class="job">
    <h2>Support Team Member</h2>
    <p>Assist users, handle issues, and represent Botara professionally.</p>
    <button id="supportBtn" class="apply">Apply</button>
  </div>

  <div class="job">
    <h2>Development Team</h2>
    <p>Ever wanted to help with Botara Automations? This is your chance</p>
    <button id="devBtn" class="apply">Apply</button>
  </div>
</div>

<div class="modal" id="applyModal">
  <div class="modal-content">
    <h3 id="modalTitle">Application</h3>

    <label>Discord username & ID</label>
    <input id="discord" required />

    <label>Roblox username</label>
    <input id="roblox" required />

    <label>Why do you want this role? (2+ sentences)</label>
    <textarea id="why" required></textarea>

    <label>Describe your experience relevant to this role (2+ sentences)</label>
    <textarea id="experience" required></textarea>

    <label>What programming languages are you familiar with? Can you code in Python or HTML? (2+ sentences)</label>
    <textarea id="languages" required></textarea>

    <label>Describe a problem you solved recently in coding or automation (2+ sentences)</label>
    <textarea id="problem" required></textarea>

    <label>How would you handle a team member not following procedures? (2+ sentences)</label>
    <textarea id="team" required></textarea>

    <div class="actions">
      <button onclick="closeApply()">Cancel</button>
      <button class="apply" onclick="submitApp()">Submit</button>
    </div>
  </div>
</div>

<script>
  let supportOpen = true;  // set false to close Support applications
  let devOpen = true;      // set false to close Development applications

  const supportBtn = document.getElementById('supportBtn');
  const devBtn = document.getElementById('devBtn');

  if (!supportOpen) { supportBtn.disabled = true; }
  if (!devOpen) { devBtn.disabled = true; }

  let currentRole = '';

  supportBtn.onclick = () => { currentRole = 'Support Team Member'; document.getElementById('modalTitle').innerText = currentRole; document.getElementById('applyModal').style.display = 'flex'; };
  devBtn.onclick = () => { currentRole = 'Development Team'; document.getElementById('modalTitle').innerText = currentRole; document.getElementById('applyModal').style.display = 'flex'; };

  function closeApply() { document.getElementById('applyModal').style.display = 'none'; }

  async function submitApp() {
    const webhookURL = 'https://discord.com/api/webhooks/1465019221657260225/13ku7O5Xfi43HoGAqbr-W54N8gyfsuql8ZhnME5rApz4LnbacoMPiKjtDZnidYKcC67o';

    const payload = {
      content: `**New ${currentRole} Application Submitted**\n\nDiscord: ${discord.value}\nRoblox: ${roblox.value}\nWhy: ${why.value}\nExperience: ${experience.value}\nLanguages: ${languages.value}\nProblem Solved: ${problem.value}\nTeam Handling: ${team.value}`
    };

    await fetch(webhookURL, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });

    alert('Application submitted successfully.');
    closeApply();

    discord.value = ''; roblox.value = ''; why.value = ''; experience.value = ''; languages.value = ''; problem.value = ''; team.value = '';
  }
</script>

</body>
</html>
